(()=>{"use strict";({604:function(e,n){var t=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))((function(c,r){function i(e){try{s(o.next(e))}catch(e){r(e)}}function u(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){var n;e.done?c(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}s((o=o.apply(e,n||[])).next())}))};function o(e){return document.querySelectorAll(".move-san-highlight")[e].textContent||""}function c(){document.querySelector("[data-cy='analysis-secondary-controls-previous-move']").click()}function r(){document.querySelector("[data-cy='analysis-secondary-controls-next-move']").click()}function i(){return t(this,void 0,void 0,(function*(){var e;yield(e="[data-cy='share-menu-modal']",new Promise((n=>{document.querySelector(e)||n();const t=new MutationObserver((()=>{document.querySelector(e)||(n(),t.disconnect())}));t.observe(document.body,{childList:!0,subtree:!0})}))),document.querySelector(".share").click();const n=yield function(e){return new Promise((n=>{document.querySelector(e)&&n(document.querySelector(e));const t=new MutationObserver((()=>{document.querySelector(e)&&(n(document.querySelector(e)),t.disconnect())}));t.observe(document.body,{childList:!0,subtree:!0})}))}("div.share-menu-tab-pgn-section:nth-child(1) > input:nth-child(2)");return document.querySelector(".ui_outside-close-component").click(),n.value}))}Object.defineProperty(n,"__esModule",{value:!0}),browser.runtime.onMessage.addListener((e=>"extract_move"===e&&function(){return t(this,void 0,void 0,(function*(){const e=o(0),n=o(1);c();const t=yield i(),u=o(0);c();const s=yield i();return r(),r(),{myMove:e,engineMove:n,priorEnemyMove:u,fen:t,priorFen:s,chessComLink:document.URL}}))}()))}})[604](0,{})})();