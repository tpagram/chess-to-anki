(()=>{async function e(){document.querySelector("[data-cy='analysis-secondary-controls-previous-move']").click(),document.querySelector(".share").click();const e=await(t="div.share-menu-tab-pgn-section:nth-child(1) > input:nth-child(2)",new Promise((e=>{document.querySelector(t)&&e(document.querySelector(t));const n=new MutationObserver((()=>{document.querySelector(t)&&(e(document.querySelector(t)),n.disconnect())}));n.observe(document.body,{childList:!0,subtree:!0})})));var t;return document.querySelector(".ui_outside-close-component").click(),document.querySelector("[data-cy='analysis-secondary-controls-next-move']").click(),e.value}browser.runtime.onMessage.addListener((t=>"extract_move"===t&&async function(){const[t,n]=[...document.querySelectorAll(".move-san-highlight")].map((e=>e.textContent));return{myMove:t,engineMove:n,fen:await e()}}()))})();